<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠØ© - Ø§Ù„Ø¨Ø­ÙŠØ±Ø©</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root { --main: #003566; --gold: #ffc300; --red: #d00000; --green: #28a745; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f0f2f5; text-align: center; }
        .card { background: white; max-width: 450px; margin: 20px auto; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); position: relative; overflow: hidden; }
        input { width: 85%; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 1.2rem; text-align: center; margin: 10px 0; }
        .btn { background: var(--main); color: white; border: none; padding: 15px; width: 100%; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 1.1rem; }
        .pay-btn { background: #ff5a5f; color: white; text-decoration: none; display: block; padding: 15px; margin: 15px 0; border-radius: 10px; font-weight: bold; }
        
        /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
        #payBox, #resultArea { display: none; }

        #resultArea { text-align: right; border: 5px double var(--main); padding: 20px; }
        .stamp { position: absolute; bottom: 80px; left: 30px; width: 100px; opacity: 0.7; transform: rotate(-15deg); filter: grayscale(1) sepia(1) hue-rotate(-50deg) saturate(5); pointer-events: none; }
        .total-box { background: var(--gold); padding: 15px; border-radius: 10px; font-weight: 900; font-size: 1.6rem; text-align: center; margin: 15px 0; }
        .row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #eee; }
        .qr-container { text-align: center; margin-top: 15px; }

        @media print {
            .btn, #searchBox, #payBox, .pay-btn, hr { display: none !important; }
            .card { box-shadow: none; border: none; max-width: 100%; margin: 0; }
            #resultArea { display: block !important; border: 2px solid #000; }
        }
    </style>
</head>
<body>

<div class="card" id="searchBox">
    <img src="https://upload.wikimedia.org/wikipedia/ar/b/ba/Beheira_Governorate_Logo.png" width="80" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø¨Ø­ÙŠØ±Ø©">
    <h2 style="color: var(--main);">Ù…Ø¯ÙŠØ±ÙŠØ© Ø§Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ… Ø¨Ø§Ù„Ø¨Ø­ÙŠØ±Ø©</h2>
    <p>Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠØ© 2026</p>
    <input type="number" id="seatNum" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³">
    <button class="btn" onclick="showPay()">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
</div>

<div class="card" id="payBox">
    <h3 style="color: var(--red);">âš ï¸ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù…Ø­Ø¬ÙˆØ¨Ø©</h3>
    <p>Ø¨Ø±Ø¬Ø§Ø¡ Ø³Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø³ÙˆÙ… (50 Ø¬Ù†ÙŠÙ‡Ø§Ù‹) Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ÙˆØ§Ù„Ø·Ø¨Ø§Ø¹Ø©.</p>
    <a href="tel:*9*7*01029194395*50%23" class="pay-btn">ğŸš€ Ø¯ÙØ¹ Ø§Ù„Ù€ 50 Ø¬Ù†ÙŠÙ‡Ø§Ù‹ Ø§Ù„Ø¢Ù†</a>
    <p style="font-size: 0.8rem;">Ø±Ù‚Ù… Ø§Ù„Ø³ÙŠØ±ÙØ±: <b id="dynamicFactor"></b></p>
    <input type="text" id="activationCode" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„">
    <button class="btn" style="background: var(--green);" onclick="unlock()">ÙØªØ­ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</button>
</div>

<div class="card" id="resultArea">
    <center>
        <img src="https://upload.wikimedia.org/wikipedia/ar/b/ba/Beheira_Governorate_Logo.png" width="60" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø¨Ø­ÙŠØ±Ø©">
        <h3 style="margin:5px 0;">Ø¨ÙŠØ§Ù† Ø¯Ø±Ø¬Ø§Øª Ø±Ø³Ù…ÙŠ - Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„Ø¨Ø­ÙŠØ±Ø©</h3>
    </center>
    
    <div class="total-box">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="resTotal"></span></div>
    
    <div class="row"><span>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ:</span> <b id="resName"></b></div>
    <div class="row"><span>Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³:</span> <b id="resSeat"></b></div>
    <div class="row"><span>Ø§Ù„Ø­Ø§Ù„Ø©:</span> <b style="color: green;">Ù†Ø§Ø¬Ø­</b></div>
    
    <div id="grades" style="margin-top:10px;"></div>

    <img src="https://upload.wikimedia.org/wikipedia/ar/b/ba/Beheira_Governorate_Logo.png" class="stamp">
    
    <div class="qr-container">
        <div id="qrcode" style="display: inline-block;"></div>
    </div>

    <button class="btn" style="background: #333; margin-top:15px;" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</button>
    <button onclick="location.reload()" style="background:none; border:none; color:#999; margin-top:10px; cursor:pointer;">Ø¨Ø­Ø« Ø¬Ø¯ÙŠØ¯</button>
</div>

<script>
    const factors = [50, 100, 150, 200, 250, 300];
    const selectedFactor = factors[Math.floor(Math.random() * factors.length)];

    function showPay() {
        const sn = document.getElementById('seatNum').value;
        if(sn === "") return alert("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³");
        
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¨Ø­Ø« ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¯ÙØ¹
        document.getElementById('dynamicFactor').innerText = selectedFactor;
        document.getElementById('searchBox').style.display = 'none';
        document.getElementById('payBox').style.display = 'block';
    }

    function unlock() {
        const sn = document.getElementById('seatNum').value;
        const code = document.getElementById('activationCode').value.trim();
        
        if (code == (parseInt(sn) + selectedFactor).toString()) {
            const names1 = ["Ù…Ø­Ù…Ø¯", "Ø£Ø­Ù…Ø¯", "ÙŠØ§Ø³ÙŠÙ†", "Ø¥ÙŠØ§Ø¯", "Ù…Ø­Ù…ÙˆØ¯"];
            const names2 = ["Ø¬Ù…Ø§Ù„", "Ø­Ø³ÙŠÙ†", "Ø¹Ù„ÙŠ", "Ø§Ù„Ø³ÙŠØ¯"];
            const names3 = ["Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ø¹Ø²Øª", "Ø´Ø§ÙƒØ±", "Ø±Ù…Ø¶Ø§Ù†"];
            const names4 = ["Ø§Ù„Ù†Ø¬Ø§Ø±", "Ø¨Ø¯ÙˆÙŠ", "Ø²ÙŠØ¯Ø§Ù†", "ØºØ§Ù†Ù…"];
            
            document.getElementById('resName').innerText = `${names1[Math.floor(Math.random()*5)]} ${names2[Math.floor(Math.random()*4)]} ${names3[Math.floor(Math.random()*4)]} ${names4[Math.floor(Math.random()*4)]}`;
            document.getElementById('resSeat').innerText = sn;
            document.getElementById('resTotal').innerText = (Math.random() * 20 + 115).toFixed(1) + " / 140";
            
            document.getElementById('grades').innerHTML = `
                <div class="row"><span>Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span> <b>38.5</b></div>
                <div class="row"><span>Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</span> <b>28.0</b></div>
                <div class="row"><span>Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</span> <b>29.0</b></div>
                <div class="row"><span>Ø§Ù„Ø¹Ù„ÙˆÙ…</span> <b>19.0</b></div>
                <div class="row"><span>Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª</span> <b>19.5</b></div>
            `;

            new QRCode(document.getElementById("qrcode"), {
                text: "Verified-Beheira-2026-" + sn,
                width: 70,
                height: 70
            });

            document.getElementById('payBox').style.display = 'none';
            document.getElementById('resultArea').style.display = 'block';
        } else {
            alert("ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø®Ø·Ø£!");
        }
    }
</script>
</body>
</html>
